(wx.webpackJsonp=wx.webpackJsonp||[]).push([[22],{"697":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{"value":!0});var V=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function sliceIterator(e,t){var o=[],r=!0,n=!1,s=void 0;try{for(var a,i=e[Symbol.iterator]();!(r=(a=i.next()).done)&&(o.push(a.value),!t||o.length!==t);r=!0);}catch(e){n=!0,s=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw s}}return o}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e};function defineProperties(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n,s,a,N=o(1),i=_interopRequireDefault(N),c=o(37),Y=o(166),u=_interopRequireDefault(o(0));o(838);var G=_interopRequireDefault(o(165));function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){return function createMoment(e){return(0,u.default)(1e3*e).utcOffset(8)}(e).format((0,Y.get)(p,"zh_CN."+t,""))}var p={"zh_CN":{"key":"zh-cn","SHORT_TIME":"HH:mm","LONG_TIME":"HH:mm:ss","LONG_TIME_WITH_MS":"HH:mm:ss.SSS","SHORT_DATE":"MM-DD","LONG_DATE":"YYYY-MM-DD","SHORT_DATETIME":"MM-DD HH:mm","LONG_DATETIME":"YYYY-MM-DD HH:mm:ss"}},_=(0,c.connect)(function mapStateToProps(e){return{"course":e.course.course,"extra":e.course.extra,"school":e.school.school,"teacher":e.account.message,"announcements":e.course.announcements}})((function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CourseView,i.default.PureComponent),r(CourseView,[{"key":"_constructor","value":function _constructor(e){(function get(e,t,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,t);if(void 0===r){var n=Object.getPrototypeOf(e);return null===n?void 0:get(n,t,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0})(CourseView.prototype.__proto__||Object.getPrototypeOf(CourseView.prototype),"_constructor",this).call(this,e),this.$$refs=new i.default.RefsArray}},{"key":"componentWillMount","value":function componentWillMount(){var t=this;this.props.dispatch({"type":"course/getCourseMessage","payload":{"courseId":this.$router.params.cid}}).then(function(e){t.props.dispatch({"type":"account/getAccount","payload":{"aid":e.author.id}}),t.props.dispatch({"type":"school/getSchool","payload":{"sid":e.school.id}})}),this.props.dispatch({"type":"course/getCourseExtra","payload":{"courseId":this.$router.params.cid}})}},{"key":"componentWillUnmount","value":function componentWillUnmount(){}},{"key":"componentDidShow","value":function componentDidShow(){}},{"key":"componentDidHide","value":function componentDidHide(){}},{"key":"handleClick","value":function handleClick(e){this.setState({"current":e})}},{"key":"_createData","value":function _createData(e,t,o){this.__state=e||this.state||{},this.__props=t||this.props||{};var r=this.$prefix,n=(0,N.genCompid)(r+"$compid__17"),s=V(n,2),a=s[0],i=s[1],c=(0,N.genCompid)(r+"$compid__18"),u=V(c,2),p=u[0],_=u[1],l=(0,N.genCompid)(r+"$compid__19"),m=V(l,2),d=m[0],h=m[1],f=(0,N.genCompid)(r+"$compid__20"),y=V(f,2),g=y[0],b=y[1],C=(0,N.genCompid)(r+"$compid__21"),$=V(C,2),w=$[0],M=$[1],S=(0,N.genCompid)(r+"$compid__22"),O=V(S,2),D=O[0],T=O[1],E=(0,N.genCompid)(r+"$compid__23"),P=V(E,2),k=P[0],x=P[1],A=(0,Y.get)(this.__props.teacher,"data.realname"),H=(0,Y.get)(this.__props.school,"name"),I=v(this.__props.course.create_time,"LONG_DATETIME"),R=v(this.__props.course.end_time,"LONG_DATETIME"),j=(0,Y.get)(this.__props.course,"description"),L=(0,Y.get)(this.__props.extra,"teach_plan");return N.propsManager.set({"size":"small","style":"margin-top:10px","image":G.default},i,a),N.propsManager.set({"current":this.__state.current,"tabList":[{"title":"简介"},{"title":"课堂"},{"title":"公告"}],"onClick":this.handleClick.bind(this)},_,p),N.propsManager.set({"current":this.__state.current,"index":0},h,d),N.propsManager.set({"current":this.__state.current,"index":1},b,g),N.propsManager.set({"courseId":this.$router.params.cid},M,w),N.propsManager.set({"current":this.__state.current,"index":2},T,D),N.propsManager.set({"courseId":this.$router.params.cid},x,k),Object.assign(this.__state,{"anonymousState__temp":A,"anonymousState__temp2":H,"anonymousState__temp3":I,"anonymousState__temp4":R,"anonymousState__temp5":j,"anonymousState__temp6":L,"$compid__17":i,"$compid__18":_,"$compid__19":h,"$compid__20":b,"$compid__21":M,"$compid__22":T,"$compid__23":x}),this.__state}}]),a=s=CourseView,s.$$events=[],s.propTypes={},s.defaultProps={"course":{},"extra":{},"school":{},"teacher":{},"announcementsList":{}},s.$$componentPath="pages/education/course/course_view",n=a))||n;function CourseView(){var e,t,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CourseView);for(var r=arguments.length,n=Array(r),s=0;s<r;s++)n[s]=arguments[s];return(t=o=_possibleConstructorReturn(this,(e=CourseView.__proto__||Object.getPrototypeOf(CourseView)).call.apply(e,[this].concat(n)))).$usedState=["anonymousState__temp","anonymousState__temp2","anonymousState__temp3","anonymousState__temp4","anonymousState__temp5","anonymousState__temp6","$compid__17","$compid__18","$compid__19","$compid__20","$compid__21","$compid__22","$compid__23","current","cid","dispatch","course","teacher","school","extra"],o.config={"enablePullDownRefresh":!0,"navigationBarTitleText":""},o.state={"current":0,"cid":57},o.customComponents=["AtAvatar","AtTabs","AtTabsPane","Lesson","Announcements"],_possibleConstructorReturn(o,t)}t.default=_,Component(o(1).default.createComponent(_,!0))},"838":function(e,t,o){}},[[697,0,1]]]);